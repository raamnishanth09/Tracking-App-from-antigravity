import{j as e,A as h,b as u,M as p,s as l}from"./index.js";import{C as d,c as n,a as j,b as g}from"./card.js";import{B as f}from"./badge.js";import{u as i}from"./useQuery.js";import{B as c,P as N}from"./phone.js";const q=()=>{const{data:m=[]}=i({queryKey:["team-details"],queryFn:async()=>{const{data:s}=await l.from("profiles").select("*").order("department",{ascending:!0});return s||[]}}),{data:o=[]}=i({queryKey:["departments"],queryFn:async()=>{const{data:s}=await l.from("departments").select("*").order("name");return s||[]}}),r=m.reduce((s,t)=>{const a=t.department||"Unassigned";return s[a]||(s[a]=[]),s[a].push(t),s},{});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Details"}),e.jsx("p",{className:"text-muted-foreground",children:"Contact information for all team members"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:o.map(s=>{var t;return e.jsx(d,{className:"card-elevated",children:e.jsxs(n,{className:"p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-primary/10 rounded-xl flex items-center justify-center",children:e.jsx(c,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-2xl font-bold text-primary mt-1",children:((t=r[s.name])==null?void 0:t.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"members"})]})},s.id)})}),e.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([s,t])=>e.jsxs(d,{className:"card-elevated",children:[e.jsx(j,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-primary"}),s,e.jsxs(f,{variant:"secondary",className:"ml-2",children:[t.length," members"]})]})}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(a=>e.jsx("div",{className:"p-4 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(h,{className:"w-12 h-12",children:e.jsx(u,{className:"gradient-bg text-primary-foreground",children:a.full_name.split(" ").map(x=>x[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-foreground truncate",children:a.full_name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.designation||"Team Member"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(p,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:a.email})]}),a.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{children:a.phone})]})]})]})]})},a.id))})})]},s))})]})};export{q as default};
